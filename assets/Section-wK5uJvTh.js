import{f as I,p as k,l as w,c as _,q as M,b as o,t as p,k as m,u as i,o as u,_ as g,s as f,h as v,w as S,r as C,i as E,v as A,x as h,j as D,d as T,n as b}from"./index-DgIuEmT7.js";import{c as y}from"./courses-CvrWrZZk.js";import{C as x}from"./Chapters-CGIwvyWR.js";const $={renew(d){return JSON.parse(JSON.stringify(d))},generateDomId(){return window.crypto.randomUUID()},getHumanReadableDate(d){const r=new Date(d.replace(" ","T")),c=new Date().getTime()-r.getTime(),n=Math.floor(c/1e3),a=Math.floor(n/60),e=Math.floor(a/60),t=Math.floor(e/24),l=Math.floor(t/30),N=Math.floor(t/365);return isNaN(r.getTime())?"(N/A)":n<60?"방금 전":a<60?`${a}분 전`:e<24?`${e}시간 전`:t<30?`${t}일 전`:l<12?`${l}개월 전`:`${N}년 전`}},H={class:"header"},R={class:"top"},W={class:"chapter"},L={class:"title"},O={class:"date"},B=["title"],V=["title"],z={class:"content"},J=["innerHTML"],P=I({__name:"SectionCore",props:{courseId:{},chapterId:{},sectionId:{}},setup(d){const r=d,s=k({loaded:!1,title:"WAIT",content:"<p>PLEASE WAIT A MOMENT</p>",created:"WAIT A MOMENT",updated:"WAIT A MOMENT",courseTitle:"WAIT",chapterTitle:"WAIT"});return w(async()=>{y.forEach(c=>{if(c.id===r.courseId){c.chapters.forEach(n=>{if(n.id===r.chapterId){n.sections.forEach(async a=>{if(a.id===r.sectionId){const{html:e}=await a.read();s.loaded=!0,s.title=a.title,s.content=e,s.created=a.created,s.updated=a.updated,s.courseTitle=c.title,s.chapterTitle=n.title;return}});return}});return}})}),(c,n)=>(u(),_("div",{class:M(["section-core",{skeleton:!s.loaded}])},[o("div",H,[o("div",R,[o("span",W,p(s.chapterTitle),1)]),o("div",L,[o("span",null,p(s.title),1)]),o("div",O,[o("span",{title:s.created}," 생성: "+p(i($).getHumanReadableDate(s.created)),9,B),s.created!==s.updated?(u(),_("span",{key:0,title:s.updated}," 수정: "+p(i($).getHumanReadableDate(s.updated)),9,V)):m("",!0)])]),o("div",z,[o("div",{innerHTML:s.content},null,8,J)])],2))}}),U=g(P,[["__scopeId","data-v-7344c6c6"]]),j="/assets/images/common.angle.left.svg",q="/assets/images/common.angle.right.svg",Y={class:"wrapper"},F={class:"title"},G={class:"title"},K=I({__name:"SectionNavigation",props:{courseId:{},chapterId:{},sectionId:{}},setup(d){const r=d,s=f(()=>{const a=[];return y.forEach(e=>{e.chapters.forEach(t=>{t.sections.forEach(l=>{a.push({id:l.id,title:l.title,url:`/courses/${e.id}/${t.id}/${l.id}`})})})}),a}),c=f(()=>{let a=null;const e=s.value;for(let t=0;t<e.length;t++)e[t].id===r.sectionId&&(a=e[t-1]);return a}),n=f(()=>{let a=null;const e=s.value;for(let t=0;t<e.length;t++)e[t].id===r.sectionId&&(a=e[t+1]);return a});return(a,e)=>{const t=C("router-link");return u(),_("div",{class:M(["section-navigation",{both:i(c)&&i(n)}])},[o("div",Y,[i(c)?(u(),v(t,{key:0,to:i(c).url||"",class:"item prev",title:i(c).title},{default:S(()=>[e[0]||(e[0]=o("div",{class:"label"},[o("img",{src:j,alt:"이전"}),o("span",null,"이전")],-1)),o("div",F,p(i(c).title),1)]),_:1},8,["to","title"])):m("",!0),i(n)?(u(),v(t,{key:1,to:i(n).url,class:"item next",title:i(n).title},{default:S(()=>[e[1]||(e[1]=o("div",{class:"label"},[o("img",{src:q,alt:"다음"}),o("span",null,"다음")],-1)),o("div",G,p(i(n).title),1)]),_:1},8,["to","title"])):m("",!0)])],2)}}}),Q=g(K,[["__scopeId","data-v-36f021d8"]]),X={class:"container"},Z={class:"wrapper"},tt={class:"main"},et={class:"navigation"},st={class:"chapters"},ot=I({__name:"Section",setup(d){const r=E(),s=D(),c=A(),n=h(()=>{var t;return(t=s.params.courseId)==null?void 0:t.toString()}),a=h(()=>{var t;return(t=s.params.chapterId)==null?void 0:t.toString()}),e=h(()=>{var t;return(t=s.params.sectionId)==null?void 0:t.toString()});return(t,l)=>(u(),_("div",{class:"section",style:b({height:i(r).mainHeight})},[o("div",X,[o("div",Z,[o("div",tt,[o("div",{class:"core",ref_key:"coreRef",ref:c},[(u(),v(U,{courseId:n.value,chapterId:a.value,sectionId:e.value,key:e.value},null,8,["courseId","chapterId","sectionId"]))],512),o("div",et,[T(Q,{courseId:n.value,chapterId:a.value,sectionId:e.value},null,8,["courseId","chapterId","sectionId"])])]),o("div",st,[T(x,{courseId:n.value,chapterId:a.value,sectionId:e.value},null,8,["courseId","chapterId","sectionId"])])])])],4))}}),it=g(ot,[["__scopeId","data-v-ba232296"]]);export{it as default};
