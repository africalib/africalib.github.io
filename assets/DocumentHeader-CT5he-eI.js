import{d as f,q as H,c,x as S,b as t,o as r,_ as h,F as k,r as T,t as v,u as M,k as A,v as b,j as q,l as B,g as x,T as P,m as y,e as w,p as j,f as F,w as O}from"./index-BH3qRXEG.js";const $={renew(n){return JSON.parse(JSON.stringify(n))},linkify(n){const e=/(\bhttps?:\/\/[^\s<>"')\]]+)/g;return n.replace(e,(a,s)=>n.includes(`<a href="${s}"`)||n.includes(`<a href='${s}'`)?a:`<a href="${s}" target="_blank" rel="noopener noreferrer">${s}</a>`)},replaceAll(n,e,a){return n.split(e).join(a)},isNumeric(n){return!isNaN(Number(n))},generateDomId(){return window.crypto.randomUUID()},getHumanReadableDate(n){const e=new Date(n.replace(" ","T")),s=new Date().getTime()-e.getTime(),i=Math.floor(s/1e3),m=Math.floor(i/60),u=Math.floor(m/60),d=Math.floor(u/24),_=Math.floor(d/30),D=Math.floor(d/365);return isNaN(e.getTime())?"(N/A)":i<60?"방금 전":m<60?`${m}분 전`:u<24?`${u}시간 전`:d<30?`${d}일 전`:_<12?`${_}개월 전`:`${D}년 전`}},V=["innerHTML"],E=f({__name:"DocumentContent",props:{content:{},skeleton:{type:Boolean}},setup(n){const e=n,a=H();return(s,i)=>(r(),c("div",{class:S(["document-content",{skeleton:e.skeleton}]),ref_key:"rootRef",ref:a},[t("div",{innerHTML:e.content},null,8,V)],2))}}),U=h(E,[["__scopeId","data-v-2609bc83"]]),K=f({__name:"DocumentVideo",props:{url:{},skeleton:{type:Boolean}},setup(n){const e=n;return(a,s)=>(r(),c("div",{class:S(["document-video",{skeleton:e.skeleton}])},s[0]||(s[0]=[t("div",{class:"wrapper"},[t("div",{class:"inner"})],-1)]),2))}}),ke=h(K,[["__scopeId","data-v-3383e52a"]]),z="/assets/images/component.section.presentation.finish.svg",J={class:"common-sources"},Y={class:"items"},G={class:"item"},Q=["innerHTML"],W=f({__name:"CommonSources",props:{sources:{}},setup(n){const e=n;return(a,s)=>(r(),c("div",J,[s[0]||(s[0]=t("div",{class:"subject"},"자료 출처",-1)),t("div",Y,[(r(!0),c(k,null,T(e.sources,(i,m)=>(r(),c("div",G,[t("span",null,"["+v(m+1)+"] ",1),t("span",{innerHTML:M($).linkify(i)},null,8,Q)]))),256))])]))}}),X=h(W,[["__scopeId","data-v-3919d218"]]),Z={class:"common-references"},ee={class:"items"},te={class:"item"},ne=f({__name:"CommonReferences",props:{references:{}},setup(n){const e=n;return(a,s)=>(r(),c("div",Z,[s[0]||(s[0]=t("div",{class:"subject"},"참고 자료",-1)),t("div",ee,[(r(!0),c(k,null,T(e.references,i=>(r(),c("div",te,[t("span",null,v(i),1)]))),256))])]))}}),se=h(ne,[["__scopeId","data-v-f62c0b24"]]),I=f({__name:"DocumentPrompt",props:{content:{}},setup(n){const e=n;return A(()=>{console.info(e.content)}),(a,s)=>null}}),oe={class:"slides"},re={class:"container"},ae={key:0,class:"slide"},ce={key:0,class:"slide finish"},le={class:"slide-item"},ie=["data-bs-content"],L="no-overflow",ue=f({__name:"DocumentPresentation",props:{title:{},created:{},updated:{},content:{},sources:{},references:{}},setup(n){const e=n,a=q(),s=j(),i=H(null),m=`이렇게 해서 ${e.title}에 대해 알아봤습니다. 수고하셨습니다!`,u=b(()=>{const o=new DOMParser().parseFromString(e.content,"text/html");return Array.from(o.querySelectorAll(".slide-item")).map(l=>l.outerHTML)}),d=b(()=>{const o=new DOMParser().parseFromString(e.content,"text/html");return Array.from(o.querySelectorAll(".slide-text")).map(l=>$.replaceAll(l.outerText,"  ","").trim())}),_=b(()=>{var o;return window.Number.parseInt(((o=a.query.idx)==null?void 0:o.toString())||"0")}),D=()=>{const o=[];return u.value.length<d.value.length?o.unshift(d.value[d.value.length-1]):o.push(m),o.join(" ")},C=o=>{const l=$.renew(a.query);let p=_.value+o;p<0?p=0:p>u.value.length&&(p=u.value.length),_.value!==p&&(l.idx=p.toString(),s.push({query:l}))},N=o=>{switch(o.key){case"ArrowLeft":!o.altKey&&C(-1);break;case"ArrowRight":!o.altKey&&C(1);break;case"Escape":s.push({query:void 0});break}},g=b(()=>{const o=e.sources;return o.push("https://www.freepik.com/premium-vector/doodle-sketch-style-hand-drawn-high-five-hand-gesture-vector-illustration-concept-design_414135121.htm"),o});return A(()=>{document.addEventListener("keyup",N),document.body.classList.add(L)}),B(()=>{document.removeEventListener("keyup",N),document.body.classList.remove(L)}),(o,l)=>(r(),x(P,{to:"body"},[t("div",{class:"presentation",ref_key:"rootRef",ref:i},[t("div",oe,[t("div",re,[(r(!0),c(k,null,T(u.value,(p,R)=>(r(),c(k,null,[_.value===R?(r(),c("div",ae,[w(U,{content:p},null,8,["content"]),w(I,{content:d.value[R]||""},null,8,["content"])])):y("",!0)],64))),256)),_.value===u.value.length?(r(),c("div",ce,[t("figure",le,[l[2]||(l[2]=t("img",{src:z,class:"mh-400",loading:"lazy"},null,-1)),t("figcaption",null,[l[0]||(l[0]=t("b",null,"이상 끝. ",-1)),l[1]||(l[1]=t("span",null,"수고하셨습니다! ",-1)),t("span",{"data-bs-toggle":"popover",title:"출처","data-bs-content":g.value[g.value.length-1]},"["+v(g.value.length)+"]",9,ie)])]),g.value.length?(r(),x(X,{key:0,class:"w-100",sources:g.value},null,8,["sources"])):y("",!0),e.references.length?(r(),x(se,{key:1,class:"w-100",references:e.references},null,8,["references"])):y("",!0),w(I,{content:D()},null,8,["content"])])):y("",!0)])])],512)]))}}),$e=h(ue,[["__scopeId","data-v-1a8a34eb"]]),de="/assets/images/component.section.core.presentation.svg",pe={class:"wrapper"},me={class:"title"},_e={class:"date"},fe=["title"],ve=["title"],he={class:"side"},ge=f({__name:"DocumentHeader",props:{title:{},created:{},updated:{},skeleton:{type:Boolean}},setup(n){const e=n;return(a,s)=>{const i=F("router-link");return r(),c("div",{class:S(["document-header",{skeleton:e.skeleton}])},[t("div",pe,[t("div",me,[t("span",null,v(e.title),1)]),t("div",_e,[t("span",{title:e.created}," 생성: "+v(M($).getHumanReadableDate(e.created)),9,fe),e.created!==e.updated?(r(),c(k,{key:0},[s[0]||(s[0]=t("span",{class:"bar"},null,-1)),t("span",{title:e.updated}," 수정: "+v(M($).getHumanReadableDate(e.updated)),9,ve)],64)):y("",!0)])]),t("div",he,[w(i,{to:"?mode=presentation"},{default:O(()=>s[1]||(s[1]=[t("img",{src:de,alt:"발표"},null,-1),t("div",null,"발표",-1)])),_:1})])],2)}}}),be=h(ge,[["__scopeId","data-v-a5600b21"]]);export{X as C,$e as D,be as a,ke as b,U as c,$ as d,se as e};
