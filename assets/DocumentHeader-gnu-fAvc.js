import{d as m,q,c as r,x as E,b as e,o as n,_,F as y,r as I,t as p,u as C,k as M,v as w,j as N,l as A,g as D,T as z,e as h,m as f,p as X,f as K,w as O}from"./index-BMBiNQBt.js";import{c as g}from"./commonLib-DGe6iNju.js";const U=["innerHTML"],Q=m({__name:"DocumentContent",props:{content:{},skeleton:{type:Boolean}},setup(l){const t=l,o=q();return(a,u)=>(n(),r("div",{class:E(["document-content",{skeleton:t.skeleton}]),ref_key:"rootRef",ref:o},[e("div",{innerHTML:t.content},null,8,U)],2))}}),G=_(Q,[["__scopeId","data-v-7d05772f"]]),J={class:"wrapper"},W={class:"inner"},Z=["src"],ee=m({__name:"DocumentVideo",props:{url:{},skeleton:{type:Boolean}},setup(l){const t=l;return(o,a)=>(n(),r("div",{class:E(["document-video",{skeleton:t.skeleton}])},[e("div",J,[e("div",W,[e("iframe",{src:`https://www.youtube.com/embed/${t.url}`,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,Z)])])],2))}}),He=_(ee,[["__scopeId","data-v-6d937d7a"]]),te="/assets/images/component.document.presentation.slide.first.svg",se="/assets/images/component.section.presentation.finish.svg",ne={class:"common-sources"},oe={class:"items"},ce={class:"item"},re=["innerHTML"],ae=m({__name:"CommonSources",props:{sources:{}},setup(l){const t=l;return(o,a)=>(n(),r("div",ne,[a[0]||(a[0]=e("div",{class:"subject"},"자료 출처",-1)),e("div",oe,[(n(!0),r(y,null,I(t.sources,(u,d)=>(n(),r("div",ce,[e("span",null,"["+p(d+1)+"] ",1),e("span",{innerHTML:C(g).linkify(u)},null,8,re)]))),256))])]))}}),le=_(ae,[["__scopeId","data-v-df8e7260"]]),ie={class:"common-references"},ue={class:"items"},de={class:"item"},pe=m({__name:"CommonReferences",props:{references:{}},setup(l){const t=l;return(o,a)=>(n(),r("div",ie,[a[0]||(a[0]=e("div",{class:"subject"},"참고 자료",-1)),e("div",ue,[(n(!0),r(y,null,I(t.references,u=>(n(),r("div",de,[e("span",null,p(u),1)]))),256))])]))}}),me=_(pe,[["__scopeId","data-v-680cc773"]]),T=m({__name:"DocumentPrompt",props:{content:{}},setup(l){const t=l;return M(()=>{console.info(t.content)}),(o,a)=>null}}),_e={class:"slides"},ve={key:0,class:"slide start"},he={class:"container"},fe={class:"slide-item"},ye={key:1,class:"slide finish"},ge={class:"container"},ke={key:0,class:"slide"},be={class:"container"},F="no-overflow",$e=m({__name:"DocumentPresentation",props:{title:{},desc:{},created:{},updated:{},content:{},sources:{},references:{}},setup(l){const t={touchStartX:0,touchStartY:0},o=l,a=N(),u=X(),d=q(null),x=`이렇게 해서 ${o.title}에 대해 알아봤습니다. 수고하셨습니다!`,k=w(()=>{const s=new DOMParser().parseFromString(o.content,"text/html");return Array.from(s.querySelectorAll(".slide-item")).map(c=>c.outerHTML)}),b=w(()=>{const s=new DOMParser().parseFromString(o.content,"text/html");return Array.from(s.querySelectorAll(".slide-text")).map(c=>g.replaceAll(c.outerText,"  ","").trim())}),v=w(()=>{var s;return window.Number.parseInt(((s=a.query.idx)==null?void 0:s.toString())||"0")}),L=w(()=>k.value.length+1),P=()=>{const s=[];return k.value.length<b.value.length?s.unshift(b.value[b.value.length-1]):s.push(x),s.join(" ")},$=s=>{const c=g.renew(a.query);let i=v.value+s;i<0?i=0:i>L.value&&(i=L.value),v.value!==i&&(c.idx=i.toString(),u.push({query:c}))},R=s=>{switch(s.key){case"ArrowLeft":!s.altKey&&$(-1);break;case"ArrowRight":!s.altKey&&$(1);break;case"F9":case"Escape":u.push({query:void 0});break}},H=s=>{const c=s.touches[0];t.touchStartX=c.clientX,t.touchStartY=c.clientY},B=s=>{const c=s.changedTouches[0],i=c.clientX,V=c.clientY,S=i-t.touchStartX,j=V-t.touchStartY;Math.abs(S)>Math.abs(j)&&Math.abs(S)>50&&(S>0?$(-1):$(1))};return M(()=>{document.addEventListener("keyup",R),document.addEventListener("touchstart",H),document.addEventListener("touchend",B),document.body.classList.add(F)}),A(()=>{document.removeEventListener("keyup",R),document.removeEventListener("touchstart",H),document.removeEventListener("touchend",B),document.body.classList.remove(F)}),(s,c)=>(n(),D(z,{to:"body"},[e("div",{class:"presentation",ref_key:"rootRef",ref:d},[e("div",_e,[v.value===0?(n(),r("div",ve,[e("div",he,[e("figure",fe,[c[0]||(c[0]=e("img",{src:te,alt:"코딩",loading:"lazy"},null,-1)),e("figcaption",null,[e("b",null,p(o.title),1),h(T,{content:o.desc},null,8,["content"])])])])])):v.value===L.value?(n(),r("div",ye,[e("div",ge,[c[1]||(c[1]=e("figure",{class:"slide-item"},[e("img",{src:se,alt:"하이파이브",class:"mh-400",loading:"lazy"}),e("figcaption",null,[e("b",null,"이상 끝. "),e("span",null,"수고하셨습니다!")])],-1)),o.sources.length?(n(),D(le,{key:0,class:"w-100 mb-3",sources:o.sources},null,8,["sources"])):f("",!0),o.references.length?(n(),D(me,{key:1,class:"w-100",references:o.references},null,8,["references"])):f("",!0),h(T,{content:P()},null,8,["content"])])])):(n(!0),r(y,{key:2},I(k.value.length,i=>(n(),r(y,null,[v.value===i?(n(),r("div",ke,[e("div",be,[h(G,{content:k.value[i-1]},null,8,["content"]),h(T,{content:b.value[i-1]||""},null,8,["content"])])])):f("",!0)],64))),256))])],512)]))}}),Be=_($e,[["__scopeId","data-v-c2bdf7fe"]]),we="/assets/images/component.section.core.presentation.svg",xe={class:"wrapper"},Le={class:"title"},Se={class:"desc"},De={class:"date"},Te=["title"],Ce=["title"],Ee={key:0,class:"side"},Y="?mode=presentation",Ie=m({__name:"DocumentHeader",props:{title:{},desc:{},presentation:{type:Boolean},created:{},updated:{},skeleton:{type:Boolean}},setup(l){const t=l,o=X(),a=u=>{u.key==="F9"&&o.push(Y)};return M(()=>{document.addEventListener("keyup",a)}),A(()=>{document.removeEventListener("keyup",a)}),(u,d)=>{const x=K("router-link");return n(),r("div",{class:E(["document-header",{skeleton:t.skeleton}])},[e("div",xe,[e("div",Le,[e("span",null,p(t.title),1)]),e("div",Se,[e("span",null,p(t.desc),1)]),e("div",De,[e("span",{title:t.created}," 생성: "+p(C(g).getHumanReadableDate(t.created)),9,Te),t.created!==t.updated?(n(),r(y,{key:0},[d[0]||(d[0]=e("span",{class:"bar"},null,-1)),e("span",{title:t.updated}," 수정: "+p(C(g).getHumanReadableDate(t.updated)),9,Ce)],64)):f("",!0)])]),t.presentation?(n(),r("div",Ee,[h(x,{to:Y},{default:O(()=>d[1]||(d[1]=[e("img",{src:we,alt:"발표"},null,-1),e("div",null,"발표 (F9)",-1)])),_:1})])):f("",!0)],2)}}}),Fe=_(Ie,[["__scopeId","data-v-1ca4bed8"]]);export{le as C,Be as D,Fe as a,He as b,G as c,me as d};
