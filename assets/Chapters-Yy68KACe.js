import{u as y}from"./useSection-Cr6Q5rLx.js";import{c as R}from"./commonLib-B4LiHA7t.js";import{d as $,g,c as l,f as x,w as S,E as m,o as c,C as T,p as w,A as B,j as E,b as s,F as h,r as f,u as b,v,t as i,_ as F}from"./index-D75dJzZx.js";const L={key:1},A=$({__name:"Anchor",props:{url:{}},setup(u){const e=u;return(r,_)=>{const p=x("RouterLink");return e.url?(c(),g(p,{key:0,to:e.url},{default:S(()=>[m(r.$slots,"default")]),_:3},8,["to"])):(c(),l("a",L,[m(r.$slots,"default")]))}}}),j=["data-in-curriculum","data-theme"],q={class:"wrapper"},z={class:"accordion"},D=["data-id"],M={class:"accordion-header"},N=["data-bs-target"],U=["id"],V={class:"sections accordion-body"},G={class:"title"},H={class:"time"},J=$({__name:"Chapters",props:{theme:{},courseId:{},chapterId:{},sectionId:{},onScrollable:{type:Function}},setup(u){const e=u,r=T("rootRef"),_=w(),p=y(),C=o=>{const t=[0,0];o.forEach(a=>{a.sections.forEach(d=>{d.completed?t[0]++:t[1]++})}),console.log(`ì™„ë£Œ: ${t[0]}ê°œ / ë¯¸ì™„ë£Œ: ${t[1]}ê°œ / ì§„í–‰ë¥ : ${(t[0]/t[1]*100).toFixed(1)}%`)},I=B(()=>{var t;const o=((t=p.getCourse(e.courseId))==null?void 0:t.chapters)||[];return C(o),o}),k=(o,t)=>{if(!(!_.admin&&t.locked))return`/courses/${e.courseId}/${o}/${t.id}`};return E(()=>{if(e.onScrollable&&r.value){const o=r.value.querySelector(`.section[data-id=${e.sectionId}]`);e.onScrollable(o.offsetTop)}}),(o,t)=>(c(),l("div",{class:"chapters","data-in-curriculum":!e.sectionId,"data-theme":e.theme,ref_key:"rootRef",ref:r},[s("div",q,[s("div",z,[(c(!0),l(h,null,f(b(I),(a,d)=>(c(),l("div",{"data-id":a.id,class:v(["accordion-item",{active:a.id===e.chapterId}])},[s("h2",M,[s("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+d,"aria-expanded":"true"},i(d.toString().padStart(2,"0"))+". "+i(a.title),9,N)]),s("div",{id:`collapse${d}`,class:"accordion-collapse collapse show"},[s("div",V,[(c(!0),l(h,null,f(a.sections,n=>(c(),g(A,{url:k(a.id,n),class:v(["section",{active:n.id===e.sectionId}]),"data-id":n.id},{default:S(()=>[s("span",G,i(b(R).extractText(n.title))+" "+i(n.completed?"":"ðŸš§"),1),s("span",H,i(n.playTime),1)]),_:2},1032,["url","data-id","class"]))),256))])],8,U)],10,D))),256))])])],8,j))}}),Q=F(J,[["__scopeId","data-v-dd9b825d"]]);export{Q as C};
