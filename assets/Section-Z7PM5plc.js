/* empty css             */import{d as g,i as C,j as T,c as p,a,u as f,F as b,r as w,n as h,t as _,f as S,w as D,e as M,o as i,_ as $,k,l as R,m as I,b as N,g as x}from"./index-zHUschAT.js";import{c as y}from"./courses-DrCXTbVp.js";import{u as H}from"./useCreated-C_ZyewVT.js";const v={renew(l){return JSON.parse(JSON.stringify(l))},generateDomId(){return window.crypto.randomUUID()},getHumanReadableDate(l){const t=new Date(l.replace(" ","T")),n=new Date().getTime()-t.getTime(),r=Math.floor(n/1e3),o=Math.floor(r/60),d=Math.floor(o/60),s=Math.floor(d/24),c=Math.floor(s/30),u=Math.floor(s/365);return isNaN(t.getTime())?"(N/A)":r<60?"방금 전":o<60?`${o}분 전`:d<24?`${d}시간 전`:s<30?`${s}일 전`:c<12?`${c}개월 전`:`${u}년 전`}},B={class:"chapters"},L=["id"],E=["data-id"],F={class:"accordion-header"},O=["data-bs-target","aria-expanded"],V=["id","data-bs-parent"],J={class:"sections accordion-body"},U=g({__name:"SectionChapters",props:{courseId:{},chapterId:{},sectionId:{}},setup(l){const t=l,e=C(),n=v.generateDomId(),r=T(()=>{const o=y.find(d=>d.id===t.courseId);return(o==null?void 0:o.chapters)||[]});return(o,d)=>{const s=M("router-link");return i(),p("div",B,[a("div",{class:"wrapper",ref_key:"chaptersRef",ref:e},[a("div",{id:f(n),class:"accordion"},[(i(!0),p(b,null,w(f(r),(c,u)=>(i(),p("div",{"data-id":c.id,class:h(["accordion-item",{active:c.id===t.chapterId}])},[a("h2",F,[a("button",{class:h(["accordion-button",{collapsed:c.id!==t.chapterId}]),type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+u,"aria-expanded":c.id===t.chapterId},_(c.title),11,O)]),a("div",{id:`collapse${u}`,class:h(["accordion-collapse collapse",{show:c.id===t.chapterId}]),"data-bs-parent":`#${f(n)}`},[a("div",J,[(i(!0),p(b,null,w(c.sections,m=>(i(),S(s,{to:`/courses/${t.courseId}/${c.id}/${m.id}`,class:h(["section",{active:m.id===t.sectionId}])},{default:D(()=>[a("span",null,_(m.title),1)]),_:2},1032,["to","class"]))),256))])],10,V)],10,E))),256))],8,L)],512)])}}}),Y=$(U,[["__scopeId","data-v-6e7a0ba9"]]),j={class:"section-core"},z={class:"header"},A={class:"top"},q={class:"chapter"},G={class:"title"},K={class:"date"},P=["title"],Q=["title"],W=["innerHTML"],X=g({__name:"SectionCore",props:{courseId:{},chapterId:{},sectionId:{},onload:{type:Function}},setup(l){const t=l,e=k({title:"",content:"",created:"",updated:"",courseTitle:"",chapterTitle:""});return H(async()=>{y.forEach(n=>{if(n.id===t.courseId){n.chapters.forEach(r=>{if(r.id===t.chapterId){r.sections.forEach(async o=>{if(o.id===t.sectionId){const{html:d}=await o.read();e.title=o.title,e.content=d,e.created=o.created,e.updated=o.updated,e.courseTitle=n.title,e.chapterTitle=r.title,t.onload();return}});return}});return}})}),(n,r)=>(i(),p("div",j,[a("div",z,[a("div",A,[a("span",q,_(e.chapterTitle),1)]),a("div",G,_(e.title),1),a("div",K,[a("span",{title:e.created}," 생성: "+_(f(v).getHumanReadableDate(e.created)),9,P),e.created!==e.updated?(i(),p("span",{key:0,title:e.updated}," 수정: "+_(f(v).getHumanReadableDate(e.updated)),9,Q)):R("",!0)])]),a("div",{class:"content",innerHTML:e.content},null,8,W)]))}}),Z=$(X,[["__scopeId","data-v-ed6d5dc1"]]),ee={class:"section"},te={class:"chapters"},oe=g({__name:"Section",setup(l){const t=N(),e=C(),n=I(()=>{var s;return(s=t.params.courseId)==null?void 0:s.toString()}),r=I(()=>{var s;return(s=t.params.chapterId)==null?void 0:s.toString()}),o=I(()=>{var s;return(s=t.params.sectionId)==null?void 0:s.toString()}),d=()=>{if(!e.value)return;const u=e.value.getBoundingClientRect().top+window.pageYOffset+-12;window.scrollTo({top:u,behavior:"smooth"})};return(s,c)=>(i(),p("div",ee,[a("div",te,[x(Y,{courseId:n.value,chapterId:r.value,sectionId:o.value},null,8,["courseId","chapterId","sectionId"])]),a("div",{class:"core",ref_key:"coreRef",ref:e},[(i(),S(Z,{courseId:n.value,chapterId:r.value,sectionId:o.value,key:o.value,onload:d},null,8,["courseId","chapterId","sectionId"]))],512)]))}}),re=$(oe,[["__scopeId","data-v-2a07f988"]]);export{re as default};
