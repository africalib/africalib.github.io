import{f as v,m,c as _,n as $,b as t,o as u,_ as h,p as w,k as E,j as g,t as p,u as l,F as x,d as f,q as k,h as S,w as T,r as b,s as A,v as D,i as H,x as R}from"./index-Bvkgvn24.js";import{c as C}from"./courses-DNokX7YP.js";import{C as U}from"./Chapters-Dy8FifgG.js";const B="/assets/images/common.home.white.svg",y={renew(d){return JSON.parse(JSON.stringify(d))},generateDomId(){return window.crypto.randomUUID()},getHumanReadableDate(d){const c=new Date(d.replace(" ","T")),r=new Date().getTime()-c.getTime(),n=Math.floor(r/1e3),o=Math.floor(n/60),s=Math.floor(o/60),a=Math.floor(s/24),i=Math.floor(a/30),I=Math.floor(a/365);return isNaN(c.getTime())?"(N/A)":n<60?"방금 전":o<60?`${o}분 전`:s<24?`${s}시간 전`:a<30?`${a}일 전`:i<12?`${i}개월 전`:`${I}년 전`}},O=["innerHTML"],W=v({__name:"SectionCoreContent",props:{content:{},skeleton:{type:Boolean}},setup(d){const c=d,e=m(()=>{const r=/(\bhttps?:\/\/[^\s<>"')\]]+)/g;return c.content.replace(r,(n,o)=>c.content.includes(`<a href="${o}"`)||c.content.includes(`<a href='${o}'`)?n:`<a href="${o}" target="_blank" rel="noopener noreferrer">${o}</a>`)});return(r,n)=>(u(),_("div",{class:$(["section-core-content",{skeleton:c.skeleton}])},[t("div",{innerHTML:e.value},null,8,O)],2))}}),L=h(W,[["__scopeId","data-v-6c1089eb"]]),V=v({__name:"SectionCoreVideo",props:{url:{},skeleton:{type:Boolean}},setup(d){const c=d;return(e,r)=>(u(),_("div",{class:$(["section-core-video",{skeleton:c.skeleton}])},r[0]||(r[0]=[t("div",{class:"wrapper"},[t("div",{class:"inner"})],-1)]),2))}}),z=h(V,[["__scopeId","data-v-6d707307"]]),F={class:"header"},J={class:"top"},P={class:"chapter"},j={class:"title"},q={class:"date"},Y=["title"],G=["title"],K={key:0,class:"video"},Q={class:"content"},X=v({__name:"SectionCore",props:{courseId:{},chapterId:{},sectionId:{}},setup(d){const c=d,e=w({loaded:!1,title:"WAIT A MOMENT",videoUrl:null,content:"<p>PLEASE WAIT A MOMENT</p>",created:"WAIT A MOMENT",updated:"WAIT A MOMENT",courseTitle:"WAIT",chapterTitle:"WAIT"});return E(async()=>{C.forEach(r=>{if(r.id===c.courseId){r.chapters.forEach(n=>{if(n.id===c.chapterId){n.sections.forEach(async o=>{if(o.id===c.sectionId){const{html:s}=await o.read();e.loaded=!0,e.title=o.title,e.videoUrl=o.videoUrl,e.content=s,e.created=o.created,e.updated=o.updated,e.courseTitle=r.title,e.chapterTitle=n.title;return}});return}});return}})}),(r,n)=>(u(),_("div",{class:$(["section-core",{skeleton:!e.loaded}])},[t("div",F,[t("div",J,[t("span",P,p(e.chapterTitle),1)]),t("div",j,[t("span",null,p(e.title),1)]),t("div",q,[t("span",{title:e.created}," 생성: "+p(l(y).getHumanReadableDate(e.created)),9,Y),e.created!==e.updated?(u(),_(x,{key:0},[n[0]||(n[0]=t("span",{class:"bar"},null,-1)),t("span",{title:e.updated}," 수정: "+p(l(y).getHumanReadableDate(e.updated)),9,G)],64)):g("",!0)])]),e.videoUrl!==null?(u(),_("div",K,[f(z,{url:e.videoUrl,skeleton:!e.loaded},null,8,["url","skeleton"])])):g("",!0),t("div",Q,[f(L,{content:e.content,skeleton:!e.loaded},null,8,["content","skeleton"])])],2))}}),Z=h(X,[["__scopeId","data-v-c2009eda"]]),ee="/assets/images/common.angle.left.svg",te="/assets/images/common.angle.right.svg",oe={class:"wrapper"},se={class:"title"},ne={class:"title"},ae=v({__name:"SectionNavigation",props:{courseId:{},chapterId:{},sectionId:{}},setup(d){const c=d,e=k(()=>{const o=[];return C.forEach(s=>{s.chapters.forEach(a=>{a.sections.forEach(i=>{o.push({id:i.id,title:i.title,url:`/courses/${s.id}/${a.id}/${i.id}`})})})}),o}),r=k(()=>{let o=null;const s=e.value;for(let a=0;a<s.length;a++)s[a].id===c.sectionId&&(o=s[a-1]);return o}),n=k(()=>{let o=null;const s=e.value;for(let a=0;a<s.length;a++)s[a].id===c.sectionId&&(o=s[a+1]);return o});return(o,s)=>{const a=b("router-link");return u(),_("div",{class:$(["section-navigation",{both:l(r)&&l(n)}])},[t("div",oe,[l(r)?(u(),S(a,{key:0,to:l(r).url||"",class:"item prev",title:l(r).title},{default:T(()=>[s[0]||(s[0]=t("div",{class:"label"},[t("img",{src:ee,alt:"이전"}),t("span",null,"이전")],-1)),t("div",se,p(l(r).title),1)]),_:1},8,["to","title"])):g("",!0),l(n)?(u(),S(a,{key:1,to:l(n).url,class:"item next",title:l(n).title},{default:T(()=>[s[1]||(s[1]=t("div",{class:"label"},[t("img",{src:te,alt:"다음"}),t("span",null,"다음")],-1)),t("div",ne,p(l(n).title),1)]),_:1},8,["to","title"])):g("",!0)])],2)}}}),re=h(ae,[["__scopeId","data-v-036566f9"]]),ce={class:"section"},ie={class:"container"},le={class:"wrapper"},de={class:"main"},ue={class:"navigation"},pe={class:"top"},_e=v({__name:"Section",setup(d){const c=A(),e=H(),r=D(),n=m(()=>{var i;return(i=e.params.courseId)==null?void 0:i.toString()}),o=m(()=>{var i;return(i=e.params.chapterId)==null?void 0:i.toString()}),s=m(()=>{var i;return(i=e.params.sectionId)==null?void 0:i.toString()}),a=m(()=>C.find(i=>i.id===n.value));return(i,I)=>{const N=b("router-link");return u(),_("div",ce,[t("div",ie,[t("div",le,[t("div",de,[t("div",{class:"core",ref_key:"coreRef",ref:r},[(u(),S(Z,{courseId:n.value,chapterId:o.value,sectionId:s.value,key:s.value},null,8,["courseId","chapterId","sectionId"]))],512),t("div",ue,[f(re,{courseId:n.value,chapterId:o.value,sectionId:s.value},null,8,["courseId","chapterId","sectionId"])])]),t("div",{class:"chapters",style:R({height:l(c).mainHeight})},[t("div",pe,[f(N,{to:`/courses/${n.value}`,class:"btn"},{default:T(()=>{var M;return[I[0]||(I[0]=t("img",{src:B},null,-1)),t("span",null,p((M=a.value)==null?void 0:M.title),1)]}),_:1},8,["to"])]),f(U,{courseId:n.value,chapterId:o.value,sectionId:s.value,theme:"light"},null,8,["courseId","chapterId","sectionId"])],4)])])])}}}),he=h(_e,[["__scopeId","data-v-2a3bb92d"]]);export{he as default};
