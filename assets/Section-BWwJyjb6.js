import{d as S,h as M,i as A,c as h,n as C,a as s,t as u,j as N,u as _,o as p,_ as T,k as y,l as D,m as f,g as b,f as I,e as k}from"./index-DQ7ziFAZ.js";import{S as m}from"./SectionChapters-Cyc1SGs9.js";import{c as E,u as $}from"./section-Dtey7hgO.js";const v={renew(i){return JSON.parse(JSON.stringify(i))},generateDomId(){return window.crypto.randomUUID()},getHumanReadableDate(i){const a=new Date(i.replace(" ","T")),n=new Date().getTime()-a.getTime(),c=Math.floor(n/1e3),t=Math.floor(c/60),r=Math.floor(t/60),d=Math.floor(r/24),l=Math.floor(d/30),o=Math.floor(d/365);return isNaN(a.getTime())?"(N/A)":c<60?"방금 전":t<60?`${t}분 전`:r<24?`${r}시간 전`:d<30?`${d}일 전`:l<12?`${l}개월 전`:`${o}년 전`}},O={class:"header"},R={class:"top"},H={class:"chapter"},W={class:"title"},B={class:"date"},L=["title"],x=["title"],Y={class:"content"},z=["innerHTML"],V=S({__name:"SectionCore",props:{courseId:{},chapterId:{},sectionId:{},onload:{type:Function}},setup(i){const a=i,e=M({loaded:!1,title:"WAIT",content:"<p>PLEASE WAIT A MOMENT</p>",created:"WAIT A MOMENT",updated:"WAIT A MOMENT",courseTitle:"WAIT",chapterTitle:"WAIT"});return A(async()=>{E.forEach(n=>{if(n.id===a.courseId){n.chapters.forEach(c=>{if(c.id===a.chapterId){c.sections.forEach(async t=>{if(t.id===a.sectionId){const{html:r}=await t.read();e.loaded=!0,e.title=t.title,e.content=r,e.created=t.created,e.updated=t.updated,e.courseTitle=n.title,e.chapterTitle=c.title,a.onload();return}});return}});return}})}),(n,c)=>(p(),h("div",{class:C(["section-core",{skeleton:!e.loaded}])},[s("div",O,[s("div",R,[s("span",H,u(e.chapterTitle),1)]),s("div",W,[s("span",null,u(e.title),1)]),s("div",B,[s("span",{title:e.created}," 생성: "+u(_(v).getHumanReadableDate(e.created)),9,L),e.created!==e.updated?(p(),h("span",{key:0,title:e.updated}," 수정: "+u(_(v).getHumanReadableDate(e.updated)),9,x)):N("",!0)])]),s("div",Y,[s("div",{innerHTML:e.content},null,8,z)])],2))}}),J=T(V,[["__scopeId","data-v-45c9db01"]]),U={class:"section"},j={class:"chapters"},F={class:"chapters d-block d-sm-none"},G=S({__name:"Section",setup(i){const a=b(),e=y(),n=D(),c=$(),t=f(()=>{var o;return(o=a.params.courseId)==null?void 0:o.toString()}),r=f(()=>{var o;return(o=a.params.chapterId)==null?void 0:o.toString()}),d=f(()=>{var o;return(o=a.params.sectionId)==null?void 0:o.toString()}),l=()=>{if(e.value){if(c.preventScroll)return;if(n.windowSize.width>767&&(window.scrollY||window.pageYOffset)<n.windowSize.height/10)return}else return;const g=e.value.getBoundingClientRect().top+window.pageYOffset+-12;window.scrollTo({top:g,behavior:"smooth"})};return(o,w)=>(p(),h("div",U,[s("div",j,[I(m,{courseId:t.value,chapterId:r.value,sectionId:d.value},null,8,["courseId","chapterId","sectionId"])]),s("div",{class:"core",ref_key:"coreRef",ref:e},[(p(),k(J,{courseId:t.value,chapterId:r.value,sectionId:d.value,key:d.value,onload:l},null,8,["courseId","chapterId","sectionId"]))],512),s("div",F,[I(m,{courseId:t.value,chapterId:r.value,sectionId:d.value},null,8,["courseId","chapterId","sectionId"])])]))}}),X=T(G,[["__scopeId","data-v-242e0ac9"]]);export{X as default};
