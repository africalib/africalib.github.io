import{d as y,c as a,y as I,b as e,o as c,_ as b,F as S,r as j,t as $,u as M,k as q,x as w,j as O,l as X,g as E,T as V,e as T,m as L,p as N,f as z,w as K,D as C}from"./index-CUqgNbKf.js";import{c as x}from"./commonLib-B4LiHA7t.js";const U=["innerHTML"],G=y({__name:"DocumentContent",props:{document:{},skeleton:{type:Boolean}},setup(r){const t=r;return(o,i)=>(c(),a("div",{class:I(["document-content",{skeleton:t.skeleton}])},[e("div",{innerHTML:t.document,ref:"contentRef"},null,8,U)],2))}}),J=b(G,[["__scopeId","data-v-c19395e7"]]),Q={class:"wrapper"},W={class:"inner"},Z=["src"],ee=y({__name:"DocumentVideo",props:{url:{},skeleton:{type:Boolean}},setup(r){const t=r;return(o,i)=>(c(),a("div",{class:I(["document-video",{skeleton:t.skeleton}])},[e("div",Q,[e("div",W,[e("iframe",{src:`https://www.youtube.com/embed/${t.url}`,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,Z)])])],2))}}),Ae=b(ee,[["__scopeId","data-v-6d937d7a"]]),te="/assets/images/component.document.presentation.slide.first.svg",se="/assets/images/component.section.presentation.finish.svg",ne={class:"common-sources"},oe={class:"items"},ce={class:"item"},re=["innerHTML"],ae=y({__name:"CommonSources",props:{sources:{}},setup(r){const t=r;return(o,i)=>(c(),a("div",ne,[i[0]||(i[0]=e("div",{class:"subject"},"자료 출처",-1)),e("div",oe,[(c(!0),a(S,null,j(t.sources,(u,d)=>(c(),a("div",ce,[e("span",null,"["+$(d+1)+"] ",1),e("span",{innerHTML:M(x).linkify(u)},null,8,re)]))),256))])]))}}),ie=b(ae,[["__scopeId","data-v-df8e7260"]]),le={class:"common-references"},ue={class:"items"},de={class:"item"},pe=y({__name:"CommonReferences",props:{references:{}},setup(r){const t=r;return(o,i)=>(c(),a("div",le,[i[0]||(i[0]=e("div",{class:"subject"},"참고 자료",-1)),e("div",ue,[(c(!0),a(S,null,j(t.references,u=>(c(),a("div",de,[e("span",null,$(u),1)]))),256))])]))}}),me=b(pe,[["__scopeId","data-v-680cc773"]]),H=y({__name:"DocumentPrompt",props:{content:{}},setup(r){const t=r;return q(()=>{console.info(t.content.replace(/\n{3,}/g,`

`))}),(o,i)=>null}}),_e={class:"presentation"},ve={class:"slides"},he={key:0,class:"slide start"},fe={class:"container"},ge={class:"slide-item"},ye=["innerHTML"],ke={key:1,class:"slide finish"},we={class:"container"},$e={key:0,class:"slide"},xe={class:"container"},F="no-overflow",be=y({__name:"DocumentPresentation",props:{title:{},desc:{},document:{},created:{},updated:{},sources:{},references:{}},setup(r){const t={touchStartX:0,touchStartY:0},o=r,i=O(),u=N(),d=`이렇게 해서 ${x.extractText(o.title)}에 대해 알아봤습니다. 수고하셨습니다!`,f=w(()=>o.title.replace(/\*\*(.*?)\*\*/g,"<b>$1</b>")),D=w(()=>{const s=[o.desc];return g.value.length===0&&m.value.length===1&&s.push(m.value[0]),s.join("")}),g=w(()=>{const s=new DOMParser().parseFromString(o.document,"text/html");return Array.from(s.querySelectorAll(".slide-item")).map(n=>n.outerHTML)}),m=w(()=>{const s=[],n={},l=new DOMParser().parseFromString(o.document,"text/html");Array.from(l.querySelectorAll(".slide-text")).forEach(h=>{const k=h.getAttribute("data-slide-text-group");k&&(!n[k]&&(n[k]=[]),n[k].push(x.replaceAll(h.outerText,"  ","").trim()))});for(let h in n)s.push(n[h].join(`
`));return s}),_=w(()=>{var s;return window.Number.parseInt(((s=i.query.idx)==null?void 0:s.toString())||"0")}),p=w(()=>g.value.length+1),v=s=>{const n=x.renew(i.query);let l=_.value+s;l<0?l=0:l>p.value&&(l=p.value),_.value!==l&&(n.idx=l.toString(),u.push({query:n}))},A=s=>{switch(s.key){case"ArrowLeft":!s.altKey&&v(-1);break;case"ArrowRight":!s.altKey&&v(1);break;case"F9":case"Escape":u.push({query:void 0});break}},B=s=>{const n=s.touches[0];t.touchStartX=n.clientX,t.touchStartY=n.clientY},R=s=>{const n=s.changedTouches[0],l=n.clientX,Y=n.clientY,h=l-t.touchStartX,k=Y-t.touchStartY;Math.abs(h)>Math.abs(k)&&Math.abs(h)>50&&(h>0?v(-1):v(1))};return q(()=>{document.addEventListener("keyup",A),document.addEventListener("touchstart",B),document.addEventListener("touchend",R),document.body.classList.add(F)}),X(()=>{document.removeEventListener("keyup",A),document.removeEventListener("touchstart",B),document.removeEventListener("touchend",R),document.body.classList.remove(F)}),(s,n)=>(c(),E(V,{to:"body"},[e("div",_e,[e("div",ve,[_.value===0?(c(),a("div",he,[e("div",fe,[e("figure",ge,[n[0]||(n[0]=e("img",{src:te,alt:"코딩",loading:"lazy"},null,-1)),e("figcaption",null,[e("span",{innerHTML:f.value},null,8,ye),T(H,{content:D.value},null,8,["content"])])])])])):_.value===p.value?(c(),a("div",ke,[e("div",we,[n[1]||(n[1]=e("figure",{class:"slide-item"},[e("img",{src:se,alt:"하이파이브",class:"mh-400",loading:"lazy"}),e("figcaption",null,[e("b",null,"이상 끝. "),e("span",null,"수고하셨습니다!")])],-1)),o.sources.length?(c(),E(ie,{key:0,class:"w-100 mb-3",sources:o.sources},null,8,["sources"])):L("",!0),o.references.length?(c(),E(me,{key:1,class:"w-100",references:o.references},null,8,["references"])):L("",!0),T(H,{content:d})])])):(c(!0),a(S,{key:2},j(g.value.length,l=>(c(),a(S,null,[_.value===l?(c(),a("div",$e,[e("div",xe,[T(J,{document:g.value[l-1]},null,8,["document"]),T(H,{content:m.value[l-1]||""},null,8,["content"])])])):L("",!0)],64))),256))])])]))}}),Be=b(be,[["__scopeId","data-v-ad53110e"]]),Te="/assets/images/component.section.core.presentation.svg",Le={class:"wrapper"},Se={class:"title"},De={class:"desc"},Ee={class:"date"},Ce=["title"],He=["title"],Me={key:0,class:"side"},P="?mode=presentation",Ie=y({__name:"DocumentHeader",props:{title:{},desc:{},presentation:{type:Boolean},created:{},updated:{},skeleton:{type:Boolean}},setup(r){const t=r,o=N(),i=u=>{u.key==="F9"&&o.push(P)};return q(()=>{document.addEventListener("keyup",i)}),X(()=>{document.removeEventListener("keyup",i)}),(u,d)=>{const f=z("router-link");return c(),a("div",{class:I(["document-header",{skeleton:t.skeleton}])},[e("div",Le,[e("div",Se,[e("span",null,$(t.title),1)]),e("div",De,[e("span",null,$(t.desc),1)]),e("div",Ee,[e("span",{title:t.created}," 생성: "+$(M(x).getHumanReadableDate(t.created)),9,Ce),t.created!==t.updated?(c(),a(S,{key:0},[d[0]||(d[0]=e("span",{class:"bar"},null,-1)),e("span",{title:t.updated}," 수정: "+$(M(x).getHumanReadableDate(t.updated)),9,He)],64)):L("",!0)])]),t.presentation?(c(),a("div",Me,[T(f,{to:P},{default:K(()=>d[1]||(d[1]=[e("img",{src:Te,alt:"발표"},null,-1),e("div",null,"발표 (F9)",-1)])),_:1})])):L("",!0)],2)}}}),Re=b(Ie,[["__scopeId","data-v-d9bf187f"]]);function Ye(){const r=C(null),t=C(null),o=C(!1);return{data:r,error:t,loading:o,request:async({url:u,method:d="GET",body:f,contentType:D="application/json",...g})=>{o.value=!0,t.value=null;try{const m={"Content-Type":D,...g.headers||{}},_={method:d,headers:m,...g};f&&(_.body=D==="application/json"?JSON.stringify(f):f);const p=await fetch(u,_);if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const v=p.headers.get("Content-Type");return v!=null&&v.includes("application/json")?r.value=await p.json():r.value=await p.text(),r.value}catch(m){throw t.value=m.message||"Unknown error",m}finally{o.value=!1}}}}const Fe="/assets/images/common.angle.left.svg",Pe="/assets/images/common.angle.right.svg";export{ie as C,Be as D,Fe as _,Re as a,Ae as b,J as c,Pe as d,me as e,Ye as u};
