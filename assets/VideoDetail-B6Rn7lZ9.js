import{d as w,A as B,c as p,n as M,g as s,e,j as H,k as b,B as y,C as N,t as h,o as r,_ as $,f as v,F as T,p as E,E as F,G as x,b as f,u as P,h as G,i as L}from"./index-IiTKwq4W.js";import{v as l,u as U,V as q}from"./video-1Ad31JuV.js";import{_ as j,a as Y,b as J}from"./common.arrow.left-TSorRx6s.js";import{c as g}from"./commonLib-B4LiHA7t.js";import{A as K}from"./Above-Bvn0yyOb.js";import"./Panel-D4meor01.js";const O={class:"wrapper"},Q={class:"title"},W={class:"title"},X=w({__name:"VideoNavigation",props:{videos:{},videoId:{}},setup(c){const t=c,n=B(()=>{let d=null;for(let o=0;o<l.length;o++)if(l[o].id===t.videoId){d=l[o-1];break}return d}),i=B(()=>{let d=null;for(let o=0;o<l.length;o++)if(l[o].id===t.videoId){d=l[o+1];break}return d});return(d,o)=>{const u=N("router-link");return r(),p("div",{class:M(["post-navigation",{both:s(i)&&s(n)}])},[e("div",O,[s(i)?(r(),H(u,{key:0,to:`/videos/${s(i).id}`,class:"item prev",title:s(i).title},{default:y(()=>[o[0]||(o[0]=e("div",{class:"label"},[e("img",{src:j,alt:"이전"}),e("span",null,"이전")],-1)),e("div",Q,h(s(g).extractText(s(i).title)),1)]),_:1},8,["to","title"])):b("",!0),s(n)?(r(),H(u,{key:1,to:`/videos/${s(n).id}`,class:"item next",title:s(n).title},{default:y(()=>[o[1]||(o[1]=e("div",{class:"label"},[e("img",{src:Y,alt:"다음"}),e("span",null,"다음")],-1)),e("div",W,h(s(g).extractText(s(n).title)),1)]),_:1},8,["to","title"])):b("",!0)])],2)}}}),Z=$(X,[["__scopeId","data-v-a0eaa4a2"]]),ee={class:"video-above"},te={class:"back"},oe={class:"container"},se={class:"bottom"},ie=["title"],ae=["title"],ne=w({__name:"VideoAbove",props:{video:{}},setup(c){const t=c;return(n,i)=>{const d=N("router-link");return r(),p("div",ee,[e("div",te,[v(d,{to:"/videos"},{default:y(()=>i[0]||(i[0]=[e("img",{src:J,alt:"뒤로가기",title:"뒤로가기"},null,-1),e("span",null,"강의 영상",-1)])),_:1})]),e("div",oe,[v(K,{title:t.video.title,desc:t.video.desc},null,8,["title","desc"])]),e("div",se,[e("span",{title:t.video.created}," 생성: "+h(s(g).getHumanReadableDate(t.video.created)),9,ie),t.video.created!==t.video.updated?(r(),p(T,{key:0},[i[1]||(i[1]=e("span",{class:"bar"},null,-1)),e("span",{title:t.video.updated}," 수정: "+h(s(g).getHumanReadableDate(t.video.updated)),9,ae)],64)):b("",!0)])])}}}),de=$(ne,[["__scopeId","data-v-50982f5d"]]),re={class:"video-frame"},le={class:"wrapper"},ce={class:"inner"},ue=["src"],ve=w({__name:"VideoFrame",props:{url:{}},setup(c){const t=c;return(n,i)=>(r(),p("div",re,[e("div",le,[e("div",ce,[e("iframe",{src:`https://www.youtube.com/embed/${t.url}`,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,ue)])])]))}}),pe=$(ve,[["__scopeId","data-v-d4592d3a"]]),_e={class:"post"},me={class:"container"},fe={class:"wrapper"},be={class:"frame"},he={class:"navigation"},ge=w({__name:"VideoDetail",setup(c){const t=P(),n=E(),i=F(),d=U(t),o=x("aboveRef"),u=x("mainRef"),m=x("videosRef"),V=f(()=>{var a;return((a=t.params.id)==null?void 0:a.toString())??""}),k=f(()=>l.find(a=>a.id===V.value)),S=f(()=>R.value?d.computedVideos.filter(a=>a.tags.includes(R.value)):d.computedVideos),R=f(()=>{if(t.query.tag)return window.decodeURIComponent(t.query.tag.toString())}),I=()=>{if(!o.value||!u.value||!m.value||n.windowSize.width<=1399)return;const a=o.value.getBoundingClientRect(),_=u.value.getBoundingClientRect(),A=Math.max(Math.min(a.bottom,n.windowSize.height)-Math.max(a.top,0),0),D=i.mainHeight-A;m.value.style.maxHeight=Math.min(_.height,D)+"px"},C=()=>{I()},z=a=>{var _;n.windowSize.width<=1399||(I(),(_=m.value)==null||_.scrollTo({top:a-1,behavior:"smooth"}))};return G(()=>{window.addEventListener("scroll",C)}),L(()=>{window.removeEventListener("scroll",C)}),(a,_)=>(r(),p("div",_e,[e("div",me,[k.value?(r(),p(T,{key:0},[e("div",{class:"above",ref_key:"aboveRef",ref:o},[v(de,{video:k.value},null,8,["video"])],512),e("div",fe,[e("div",{class:"main",ref_key:"mainRef",ref:u},[e("div",be,[v(pe,{url:k.value.videoUrl},null,8,["url"])]),e("div",he,[v(Z,{videos:S.value,videoId:V.value},null,8,["videos","videoId"])])],512),e("div",{class:"videos",ref_key:"videosRef",ref:m},[v(q,{videos:S.value,videoId:V.value,tag:R.value,onScrollable:z},null,8,["videos","videoId","tag"])],512)])],64)):b("",!0)])]))}}),ye=$(ge,[["__scopeId","data-v-dd00b8d8"]]);export{ye as default};
