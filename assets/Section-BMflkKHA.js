import{d as S,j as A,h as C,k as N,c as h,n as y,a as s,t as u,l as D,u as _,o as p,_ as M,m as k,p as E,q as f,g as $,f as I,e as b}from"./index-CxyXYacV.js";import{u as O,S as m}from"./SectionChapters-D4gvUreI.js";import{c as R}from"./courses-B8UbE6-n.js";const v={renew(i){return JSON.parse(JSON.stringify(i))},generateDomId(){return window.crypto.randomUUID()},getHumanReadableDate(i){const n=new Date(i.replace(" ","T")),a=new Date().getTime()-n.getTime(),c=Math.floor(a/1e3),t=Math.floor(c/60),r=Math.floor(t/60),d=Math.floor(r/24),l=Math.floor(d/30),o=Math.floor(d/365);return isNaN(n.getTime())?"(N/A)":c<60?"방금 전":t<60?`${t}분 전`:r<24?`${r}시간 전`:d<30?`${d}일 전`:l<12?`${l}개월 전`:`${o}년 전`}},H={class:"header"},W={class:"top"},B={class:"chapter"},x={class:"title"},L={class:"date"},Y=["title"],z=["title"],V={class:"content"},J=["innerHTML"],U=S({__name:"SectionCore",props:{courseId:{},chapterId:{},sectionId:{},onMounted:{type:Function}},setup(i){const n=i,e=A({loaded:!1,title:"WAIT",content:"<p>PLEASE WAIT A MOMENT</p>",created:"WAIT A MOMENT",updated:"WAIT A MOMENT",courseTitle:"WAIT",chapterTitle:"WAIT"});return C(async()=>{R.forEach(a=>{if(a.id===n.courseId){a.chapters.forEach(c=>{if(c.id===n.chapterId){c.sections.forEach(async t=>{if(t.id===n.sectionId){const{html:r}=await t.read();e.loaded=!0,e.title=t.title,e.content=r,e.created=t.created,e.updated=t.updated,e.courseTitle=a.title,e.chapterTitle=c.title;return}});return}});return}})}),N(()=>{n.onMounted()}),(a,c)=>(p(),h("div",{class:y(["section-core",{skeleton:!e.loaded}])},[s("div",H,[s("div",W,[s("span",B,u(e.chapterTitle),1)]),s("div",x,[s("span",null,u(e.title),1)]),s("div",L,[s("span",{title:e.created}," 생성: "+u(_(v).getHumanReadableDate(e.created)),9,Y),e.created!==e.updated?(p(),h("span",{key:0,title:e.updated}," 수정: "+u(_(v).getHumanReadableDate(e.updated)),9,z)):D("",!0)])]),s("div",V,[s("div",{innerHTML:e.content},null,8,J)])],2))}}),j=M(U,[["__scopeId","data-v-020845c7"]]),q={class:"section"},F={class:"chapters"},G={class:"chapters d-block d-sm-none"},P=S({__name:"Section",setup(i){const n=$(),e=k(),a=E(),c=O(),t=f(()=>{var o;return(o=n.params.courseId)==null?void 0:o.toString()}),r=f(()=>{var o;return(o=n.params.chapterId)==null?void 0:o.toString()}),d=f(()=>{var o;return(o=n.params.sectionId)==null?void 0:o.toString()}),l=()=>{if(e.value){if(c.scrollAction==="none")return;if(a.windowSize.width>767&&(window.scrollY||window.pageYOffset)<a.windowSize.height/10)return}else return;const T=e.value.getBoundingClientRect().top+window.pageYOffset+-12,g=c.scrollAction==="smooth"?"smooth":void 0;window.scrollTo({top:T,behavior:g})};return(o,w)=>(p(),h("div",q,[s("div",F,[I(m,{courseId:t.value,chapterId:r.value,sectionId:d.value},null,8,["courseId","chapterId","sectionId"])]),s("div",{class:"core",ref_key:"coreRef",ref:e},[(p(),b(j,{courseId:t.value,chapterId:r.value,sectionId:d.value,key:d.value,onMounted:l},null,8,["courseId","chapterId","sectionId"]))],512),s("div",G,[I(m,{courseId:t.value,chapterId:r.value,sectionId:d.value},null,8,["courseId","chapterId","sectionId"])])]))}}),ee=M(P,[["__scopeId","data-v-1e7de620"]]);export{ee as default};
