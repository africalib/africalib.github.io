<p data-prompt-num="1">
    다음과 같이 게시글 서비스 테스트 클래스를 생성합니다.
</p>
<figure>
    <pre class="lined w-100">
        <code class="language-java">
@ExtendWith(MockitoExtension.class)
class DocumentServiceTest {

    @InjectMocks
    private DocumentService documentService;

    @Mock
    private DocumentRepository documentRepository;

    @Test
    @DipsplayName("게시글 생성이 잘 되는지")
    void create1() {
        // given
        DocumentCreateRequest request = new DocumentCreateRequest("제목", "내용", "작성자");
        DocumentEntity savedEntity = DocumentEntity.create("제목", "내용", "작성자");

        given(documentRepository.save(any(DocumentEntity.class))).willReturn(savedEntity);

        // when
        Long documentId = documentService.create(request);

        // then
        assertThat(documentId).isNotNull();
        then(documentRepository).should(times(1)).save(any(DocumentEntity.class));
    }
}
        </code>
    </pre>
    <figcaption>
        <b>게시글 서비스 </b>
        <span>테스트 코드</span>
    </figcaption>
</figure>
<p data-prompt-num="2">
    그러고 나서 테스트를 실행합니다. 처음에는 당연히 실패합니다. 이것이 TDD의 RED 단계입니다.
    그러고 나서 다음과 같이 테스트를 통과하기 위한 최소 코드를 구현합니다.
</p>
<figure>
    <pre class="w-100 lined">
        <code class="language-java">
@Service
@RequiredArgsConstructor
@Transactional
public class DocumentService {

    private final DocumentRepository documentRepository;

    public Long create(DocumentCreateRequest request) {
        DocumentEntity document = DocumentEntity.builder()
                            .title(request.getTitle())
                            .content(request.getContent())
                            .author(request.getAuthor())
                            .build();

        return documentRepository.save(document).getId();
    }
}
        </code>
    </pre>
    <figcaption>
        <b>게시글 서비스</b>
    </figcaption>
</figure>
<br>