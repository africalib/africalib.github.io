import{u as g}from"./useSection-Cis2LaYu.js";import{c as C}from"./commonLib-B4LiHA7t.js";import{d as I,q as $,z as S,k,c as l,b as e,F as u,r as _,u as m,x as h,t as r,g as x,w as y,f as w,o as i,_ as B}from"./index-B_ALmA0z.js";const F=["data-in-curriculum","data-theme"],E={class:"wrapper"},T={class:"accordion"},q=["data-id"],z={class:"accordion-header"},L=["data-bs-target"],R=["id"],D={class:"sections accordion-body"},M={class:"title"},N={class:"time"},V=I({__name:"Chapters",props:{theme:{},courseId:{},chapterId:{},sectionId:{},onScrollable:{type:Function}},setup(f){const t=f,p=$(),b=g(),v=S(()=>{var d;const c=((d=b.getCourse(t.courseId))==null?void 0:d.chapters)||[],o=[0,0];return c.forEach(s=>{s.sections.forEach(n=>{n.completed?o[0]++:o[1]++})}),console.log(`ì™„ë£Œ: ${o[0]}ê°œ / ë¯¸ì™„ë£Œ: ${o[1]}ê°œ / ì§„í–‰ë¥ : ${(o[0]/o[1]*100).toFixed(1)}%`),c});return k(()=>{if(t.onScrollable&&p.value){const c=p.value.querySelector(`.section[data-id=${t.sectionId}]`);t.onScrollable(c.offsetTop)}}),(c,o)=>{const d=w("router-link");return i(),l("div",{class:"chapters","data-in-curriculum":!t.sectionId,"data-theme":t.theme,ref_key:"rootRef",ref:p},[e("div",E,[e("div",T,[(i(!0),l(u,null,_(m(v),(s,n)=>(i(),l("div",{"data-id":s.id,class:h(["accordion-item",{active:s.id===t.chapterId}])},[e("h2",z,[e("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+n,"aria-expanded":"true"},r(n.toString().padStart(2,"0"))+". "+r(s.title),9,L)]),e("div",{id:`collapse${n}`,class:"accordion-collapse collapse show"},[e("div",D,[(i(!0),l(u,null,_(s.sections,a=>(i(),x(d,{to:`/courses/${t.courseId}/${s.id}/${a.id}`,class:h(["section",{active:a.id===t.sectionId}]),"data-id":a.id},{default:y(()=>[e("span",M,r(m(C).extractText(a.title))+" "+r(a.completed?"":"ðŸš§"),1),e("span",N,r(a.playTime),1)]),_:2},1032,["to","data-id","class"]))),256))])],8,R)],10,q))),256))])])],8,F)}}}),H=B(V,[["__scopeId","data-v-9b967441"]]);export{H as C};
