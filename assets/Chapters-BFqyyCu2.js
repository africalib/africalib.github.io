import{u as g}from"./useSection-C5Qp03yB.js";import{c as C}from"./commonLib-B4LiHA7t.js";import{d as I,A as $,y,k as S,c as l,b as e,F as u,r as _,u as m,v as h,t as r,g as k,w as x,f as w,o as i,_ as B}from"./index-OWtPmFFj.js";const F=["data-in-curriculum","data-theme"],R={class:"wrapper"},T={class:"accordion"},E=["data-id"],L={class:"accordion-header"},q=["data-bs-target"],z=["id"],A={class:"sections accordion-body"},D={class:"title"},M={class:"time"},N=I({__name:"Chapters",props:{theme:{},courseId:{},chapterId:{},sectionId:{},onScrollable:{type:Function}},setup(f){const t=f,p=$("rootRef"),b=g(),v=y(()=>{var d;const c=((d=b.getCourse(t.courseId))==null?void 0:d.chapters)||[],o=[0,0];return c.forEach(s=>{s.sections.forEach(n=>{n.completed?o[0]++:o[1]++})}),console.log(`ì™„ë£Œ: ${o[0]}ê°œ / ë¯¸ì™„ë£Œ: ${o[1]}ê°œ / ì§„í–‰ë¥ : ${(o[0]/o[1]*100).toFixed(1)}%`),c});return S(()=>{if(t.onScrollable&&p.value){const c=p.value.querySelector(`.section[data-id=${t.sectionId}]`);t.onScrollable(c.offsetTop)}}),(c,o)=>{const d=w("router-link");return i(),l("div",{class:"chapters","data-in-curriculum":!t.sectionId,"data-theme":t.theme,ref_key:"rootRef",ref:p},[e("div",R,[e("div",T,[(i(!0),l(u,null,_(m(v),(s,n)=>(i(),l("div",{"data-id":s.id,class:h(["accordion-item",{active:s.id===t.chapterId}])},[e("h2",L,[e("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+n,"aria-expanded":"true"},r(n.toString().padStart(2,"0"))+". "+r(s.title),9,q)]),e("div",{id:`collapse${n}`,class:"accordion-collapse collapse show"},[e("div",A,[(i(!0),l(u,null,_(s.sections,a=>(i(),k(d,{to:`/courses/${t.courseId}/${s.id}/${a.id}`,class:h(["section",{active:a.id===t.sectionId}]),"data-id":a.id},{default:x(()=>[e("span",D,r(m(C).extractText(a.title))+" "+r(a.completed?"":"ðŸš§"),1),e("span",M,r(a.playTime),1)]),_:2},1032,["to","data-id","class"]))),256))])],8,z)],10,E))),256))])])],8,F)}}}),H=B(N,[["__scopeId","data-v-92d60827"]]);export{H as C};
