import{d as m,c as _,e,o as r,_ as f,t as u,k as p,g as s,F as C,q as I,x as R,i as T,f as y,j as g,C as x,n as D,w as k,m as N,D as H,E as B,b as h,u as F,G as P}from"./index-ApNn0mKX.js";import{c as b}from"./commonLib-B4LiHA7t.js";import{v as l,V as U}from"./videos-ClB_YAOA.js";import{_ as q,a as z}from"./common.angle.right-BBQDf25P.js";import"./Panel-CSvds0u5.js";const G={class:"video-frame"},E={class:"wrapper"},j={class:"inner"},L=["src"],Y=m({__name:"VideoFrame",props:{url:{}},setup(c){const t=c;return(i,a)=>(r(),_("div",G,[e("div",E,[e("div",j,[e("iframe",{src:`https://www.youtube.com/embed/${t.url}`,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,8,L)])])]))}}),A=f(Y,[["__scopeId","data-v-0e31e502"]]),J={class:"video-header"},K={class:"wrapper"},M={class:"title"},O={class:"desc"},Q={class:"date"},W=["title"],X=["title"],Z=m({__name:"VideoHeader",props:{video:{}},setup(c){const t=c;return(i,a)=>(r(),_("div",J,[e("div",K,[e("div",M,[e("span",null,u(t.video.title),1)]),e("div",O,[e("span",null,u(t.video.desc),1)]),e("div",Q,[e("span",{title:t.video.created}," 생성: "+u(s(b).getHumanReadableDate(t.video.created)),9,W),t.video.created!==t.video.updated?(r(),_(C,{key:0},[a[0]||(a[0]=e("span",{class:"bar"},null,-1)),e("span",{title:t.video.updated}," 수정: "+u(s(b).getHumanReadableDate(t.video.updated)),9,X)],64)):p("",!0)])])]))}}),ee=f(Z,[["__scopeId","data-v-ec43b4f3"]]),te={class:"post-core"},oe=m({__name:"VideoCore",props:{video:{}},setup(c){const t=I(),i=c;return R(async()=>{t.updateSiteTitle(i.video.title)}),T(()=>{t.updateSiteTitle()}),(a,d)=>(r(),_("div",te,[y(ee,{video:i.video},null,8,["video"]),i.video.videoUrl?(r(),g(A,{key:0,url:i.video.videoUrl},null,8,["url"])):p("",!0)]))}}),se=f(oe,[["__scopeId","data-v-d00123ea"]]),ie={class:"wrapper"},ae={class:"title"},de={class:"title"},re=m({__name:"VideoNavigation",props:{videos:{},videoId:{}},setup(c){const t=c,i=x(()=>{let d=null;for(let o=0;o<l.length;o++)if(l[o].id===t.videoId){d=l[o-1];break}return d}),a=x(()=>{let d=null;for(let o=0;o<l.length;o++)if(l[o].id===t.videoId){d=l[o+1];break}return d});return(d,o)=>{const v=N("router-link");return r(),_("div",{class:D(["post-navigation",{both:s(i)&&s(a)}])},[e("div",ie,[s(i)?(r(),g(v,{key:0,to:`/videos/${s(i).id}`,class:"item prev",title:s(i).title},{default:k(()=>[o[0]||(o[0]=e("div",{class:"label"},[e("img",{src:q,alt:"이전"}),e("span",null,"이전")],-1)),e("div",ae,u(s(b).extractText(s(i).title)),1)]),_:1},8,["to","title"])):p("",!0),s(a)?(r(),g(v,{key:1,to:`/videos/${s(a).id}`,class:"item next",title:s(a).title},{default:k(()=>[o[1]||(o[1]=e("div",{class:"label"},[e("img",{src:z,alt:"다음"}),e("span",null,"다음")],-1)),e("div",de,u(s(b).extractText(s(a).title)),1)]),_:1},8,["to","title"])):p("",!0)])],2)}}}),ne=f(re,[["__scopeId","data-v-94e5e1cb"]]),le={class:"post"},ce={class:"container"},ue={class:"wrapper"},_e={class:"main"},ve={class:"core"},pe={class:"navigation"},me=m({__name:"VideoDetail",setup(c){const t=I(),i=H(),a=F(),d=B("videosRef"),o=h(()=>{var n;return((n=a.params.id)==null?void 0:n.toString())??""}),v=h(()=>l.find(n=>n.id===o.value)),V=h(()=>$.value?l.filter(n=>n.tags.includes($.value)):l),$=h(()=>{if(a.query.tag)return window.decodeURIComponent(a.query.tag.toString())}),S=n=>{var w;t.windowSize.width<=1399||(w=d.value)==null||w.scrollTo({top:n-1,behavior:"smooth"})};return(n,w)=>(r(),_("div",le,[e("div",ce,[e("div",ue,[e("div",_e,[e("div",ve,[v.value?(r(),g(se,{key:0,video:v.value},null,8,["video"])):p("",!0)]),e("div",pe,[y(ne,{videos:V.value,videoId:o.value},null,8,["videos","videoId"])])]),e("div",{class:"videos",ref_key:"videosRef",ref:d,style:P({height:s(i).mainHeight})},[y(U,{videos:V.value,videoId:o.value,tag:$.value,onScrollable:S},null,8,["videos","videoId","tag"])],4)])])]))}}),we=f(me,[["__scopeId","data-v-0a4a7546"]]);export{we as default};
