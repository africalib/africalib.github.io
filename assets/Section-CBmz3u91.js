import{f as h,p as f,c as _,q as $,b as s,o as l,_ as m,s as y,l as N,t as p,k as I,u as i,d as g,v,h as S,w as T,r as E,i as w,x as A,j as b,n as x}from"./index-VjoXeHHb.js";import{c as k}from"./courses-CZJyr9XD.js";import{C as D}from"./Chapters-BPBvlsMI.js";const M={renew(d){return JSON.parse(JSON.stringify(d))},generateDomId(){return window.crypto.randomUUID()},getHumanReadableDate(d){const r=new Date(d.replace(" ","T")),a=new Date().getTime()-r.getTime(),c=Math.floor(a/1e3),n=Math.floor(c/60),o=Math.floor(n/60),t=Math.floor(o/24),u=Math.floor(t/30),C=Math.floor(t/365);return isNaN(r.getTime())?"(N/A)":c<60?"방금 전":n<60?`${n}분 전`:o<24?`${o}시간 전`:t<30?`${t}일 전`:u<12?`${u}개월 전`:`${C}년 전`}},H=["innerHTML"],R=h({__name:"SectionCoreContent",props:{content:{},skeleton:{type:Boolean}},setup(d){const r=d,e=f(()=>{const a=/(\bhttps?:\/\/[^\s<>"']+)/g;return r.content.replace(a,'<a href="$1" target="_blank" rel="noopener noreferrer">$1</a>')});return(a,c)=>(l(),_("div",{class:$(["section-core-content",{skeleton:a.skeleton}])},[s("div",{innerHTML:e.value},null,8,H)],2))}}),O=m(R,[["__scopeId","data-v-80accd46"]]),W={class:"header"},B={class:"top"},L={class:"chapter"},V={class:"title"},z={class:"date"},J=["title"],P=["title"],U={class:"content"},j=h({__name:"SectionCore",props:{courseId:{},chapterId:{},sectionId:{}},setup(d){const r=d,e=y({loaded:!1,title:"WAIT A MOMENT",content:"<p>PLEASE WAIT A MOMENT</p>",created:"WAIT A MOMENT",updated:"WAIT A MOMENT",courseTitle:"WAIT",chapterTitle:"WAIT"});return N(async()=>{k.forEach(a=>{if(a.id===r.courseId){a.chapters.forEach(c=>{if(c.id===r.chapterId){c.sections.forEach(async n=>{if(n.id===r.sectionId){const{html:o}=await n.read();e.loaded=!0,e.title=n.title,e.content=o,e.created=n.created,e.updated=n.updated,e.courseTitle=a.title,e.chapterTitle=c.title;return}});return}});return}})}),(a,c)=>(l(),_("div",{class:$(["section-core",{skeleton:!e.loaded}])},[s("div",W,[s("div",B,[s("span",L,p(e.chapterTitle),1)]),s("div",V,[s("span",null,p(e.title),1)]),s("div",z,[s("span",{title:e.created}," 생성: "+p(i(M).getHumanReadableDate(e.created)),9,J),e.created!==e.updated?(l(),_("span",{key:0,title:e.updated}," 수정: "+p(i(M).getHumanReadableDate(e.updated)),9,P)):I("",!0)])]),s("div",U,[g(O,{content:e.content,skeleton:!e.loaded},null,8,["content","skeleton"])])],2))}}),q=m(j,[["__scopeId","data-v-2c119132"]]),Y="/assets/images/common.angle.left.svg",F="/assets/images/common.angle.right.svg",G={class:"wrapper"},K={class:"title"},Q={class:"title"},X=h({__name:"SectionNavigation",props:{courseId:{},chapterId:{},sectionId:{}},setup(d){const r=d,e=v(()=>{const n=[];return k.forEach(o=>{o.chapters.forEach(t=>{t.sections.forEach(u=>{n.push({id:u.id,title:u.title,url:`/courses/${o.id}/${t.id}/${u.id}`})})})}),n}),a=v(()=>{let n=null;const o=e.value;for(let t=0;t<o.length;t++)o[t].id===r.sectionId&&(n=o[t-1]);return n}),c=v(()=>{let n=null;const o=e.value;for(let t=0;t<o.length;t++)o[t].id===r.sectionId&&(n=o[t+1]);return n});return(n,o)=>{const t=E("router-link");return l(),_("div",{class:$(["section-navigation",{both:i(a)&&i(c)}])},[s("div",G,[i(a)?(l(),S(t,{key:0,to:i(a).url||"",class:"item prev",title:i(a).title},{default:T(()=>[o[0]||(o[0]=s("div",{class:"label"},[s("img",{src:Y,alt:"이전"}),s("span",null,"이전")],-1)),s("div",K,p(i(a).title),1)]),_:1},8,["to","title"])):I("",!0),i(c)?(l(),S(t,{key:1,to:i(c).url,class:"item next",title:i(c).title},{default:T(()=>[o[1]||(o[1]=s("div",{class:"label"},[s("img",{src:F,alt:"다음"}),s("span",null,"다음")],-1)),s("div",Q,p(i(c).title),1)]),_:1},8,["to","title"])):I("",!0)])],2)}}}),Z=m(X,[["__scopeId","data-v-91954cb9"]]),tt={class:"section"},et={class:"container"},ot={class:"wrapper"},st={class:"main"},nt={class:"navigation"},at=h({__name:"Section",setup(d){const r=w(),e=b(),a=A(),c=f(()=>{var t;return(t=e.params.courseId)==null?void 0:t.toString()}),n=f(()=>{var t;return(t=e.params.chapterId)==null?void 0:t.toString()}),o=f(()=>{var t;return(t=e.params.sectionId)==null?void 0:t.toString()});return(t,u)=>(l(),_("div",tt,[s("div",et,[s("div",ot,[s("div",st,[s("div",{class:"core",ref_key:"coreRef",ref:a},[(l(),S(q,{courseId:c.value,chapterId:n.value,sectionId:o.value,key:o.value},null,8,["courseId","chapterId","sectionId"]))],512),s("div",nt,[g(Z,{courseId:c.value,chapterId:n.value,sectionId:o.value},null,8,["courseId","chapterId","sectionId"])])]),s("div",{class:"chapters",style:x({height:i(r).mainHeight})},[g(D,{courseId:c.value,chapterId:n.value,sectionId:o.value},null,8,["courseId","chapterId","sectionId"])],4)])])]))}}),dt=m(at,[["__scopeId","data-v-85236612"]]);export{dt as default};
