/* empty css             */import{d as $,i as T,j as D,k,c as _,a as s,u as f,F as b,r as C,l as S,t as h,f as w,w as N,e as x,o as l,_ as g,m as L,p as R,q as I,b as H,g as B}from"./index-YoSUVyRC.js";import{c as y}from"./courses-EOFgZ-nZ.js";import{u as E}from"./useCreated-C_ZyewVT.js";const v={renew(p){return JSON.parse(JSON.stringify(p))},generateDomId(){return window.crypto.randomUUID()},getHumanReadableDate(p){const o=new Date(p.replace(" ","T")),n=new Date().getTime()-o.getTime(),c=Math.floor(n/1e3),e=Math.floor(c/60),a=Math.floor(e/60),r=Math.floor(a/24),i=Math.floor(r/30),d=Math.floor(r/365);return isNaN(o.getTime())?"(N/A)":c<60?"방금 전":e<60?`${e}분 전`:a<24?`${a}시간 전`:r<30?`${r}일 전`:i<12?`${i}개월 전`:`${d}년 전`}},q={class:"chapters"},O=["id"],V=["data-id"],A={class:"accordion-header"},F=["data-bs-target"],J=["id","data-bs-parent"],U={class:"sections accordion-body"},W=$({__name:"SectionChapters",props:{courseId:{},chapterId:{},sectionId:{}},setup(p){const o=p,t=T(),n=v.generateDomId(),c=D(()=>{const a=y.find(r=>r.id===o.courseId);return(a==null?void 0:a.chapters)||[]}),e=(a=!1)=>{const r=t.value,i=r.querySelector(".class.active");if(i){const d=r.scrollLeft,m=d+document.body.offsetWidth,u=i.offsetLeft,M=u+i.offsetWidth;(u<d||M>m)&&r.scrollTo({left:u-20,behavior:a?"smooth":"auto"})}};return k(()=>{const a=window.bootstrap,r=t.value.querySelector(".accordion-item.active .collapse");a.Collapse.getOrCreateInstance(r).show(),e()}),(a,r)=>{const i=x("router-link");return l(),_("div",q,[s("div",{class:"wrapper",ref_key:"chaptersRef",ref:t},[s("div",{id:f(n),class:"accordion"},[(l(!0),_(b,null,C(f(c),(d,m)=>(l(),_("div",{"data-id":d.id,class:S(["accordion-item",{active:d.id===o.chapterId}])},[s("h2",A,[s("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+m,"aria-expanded":"false"},h(d.title),9,F)]),s("div",{id:`collapse${m}`,class:"accordion-collapse collapse","data-bs-parent":`#${f(n)}`},[s("div",U,[(l(!0),_(b,null,C(d.sections,u=>(l(),w(i,{to:`/courses/${o.courseId}/${d.id}/${u.id}`,class:S(["section",{active:u.id===o.sectionId}])},{default:N(()=>[s("span",null,h(u.title),1)]),_:2},1032,["to","class"]))),256))])],8,J)],10,V))),256))],8,O)],512)])}}}),j=g(W,[["__scopeId","data-v-1353138c"]]),z={class:"section-core"},Y={class:"header"},G={class:"top"},K={class:"chapter"},P={class:"title"},Q={class:"date"},X=["title"],Z=["title"],tt=["innerHTML"],et=$({__name:"SectionCore",props:{courseId:{},chapterId:{},sectionId:{}},setup(p){const o=p,t=L({title:"",content:"",created:"",updated:"",courseTitle:"",chapterTitle:""});return E(async()=>{y.forEach(n=>{if(n.id===o.courseId){n.chapters.forEach(c=>{if(c.id===o.chapterId){c.sections.forEach(async e=>{if(e.id===o.sectionId){const{html:a}=await e.read();t.title=e.title,t.content=a,t.created=e.created,t.updated=e.updated,t.courseTitle=n.title,t.chapterTitle=c.title;return}});return}});return}})}),(n,c)=>(l(),_("div",z,[s("div",Y,[s("div",G,[s("span",K,h(t.chapterTitle),1)]),s("div",P,h(t.title),1),s("div",Q,[s("span",{title:t.created}," 생성: "+h(f(v).getHumanReadableDate(t.created)),9,X),t.created!==t.updated?(l(),_("span",{key:0,title:t.updated}," 수정: "+h(f(v).getHumanReadableDate(t.updated)),9,Z)):R("",!0)])]),s("div",{class:"content",innerHTML:t.content},null,8,tt)]))}}),st=g(et,[["__scopeId","data-v-22c9e402"]]),ot={class:"section"},at={class:"chapters"},ct={class:"core"},rt=$({__name:"Section",setup(p){const o=H(),t=I(()=>{var e;return(e=o.params.courseId)==null?void 0:e.toString()}),n=I(()=>{var e;return(e=o.params.chapterId)==null?void 0:e.toString()}),c=I(()=>{var e;return(e=o.params.sectionId)==null?void 0:e.toString()});return(e,a)=>(l(),_("div",ot,[s("div",at,[B(j,{courseId:t.value,chapterId:n.value,sectionId:c.value},null,8,["courseId","chapterId","sectionId"])]),s("div",ct,[(l(),w(st,{courseId:t.value,chapterId:n.value,sectionId:c.value,key:c.value},null,8,["courseId","chapterId","sectionId"]))])]))}}),pt=g(rt,[["__scopeId","data-v-46611b42"]]);export{pt as default};
